<th:block xmlns:th="http://www.thymeleaf.org" th:fragment="detailSidebar(course, isLoggedIn)">

    <aside class="cd-sidebar">
        <div class="cd-price">
            <span th:text="${course.price == 0 ? '무료' : #numbers.formatInteger(course.price, 0, 'COMMA') + '원'}">69,000원</span>
        </div>

        <!-- ✅ 비로그인 -->
        <button class="cd-btn primary"
                th:if="${!isLoggedIn}"
                data-action="login">
            수강신청 하기
        </button>

        <!-- ✅ 로그인 -->
        <div th:if="${isLoggedIn}">
            <div class="cd-btn-row">
                <button class="cd-btn primary half"
                        data-action="enroll"
                        th:attr="data-course-id=${course.courseId}">
                    수강신청 하기
                </button>

                <button class="cd-btn secondary half"
                        data-action="cartAdd"
                        th:attr="data-course-id=${course.courseId}">
                    장바구니 담기
                </button>
            </div>
        </div>

        <!-- ✅ 여기 하드코딩 제거하고 DB값 사용 -->
        <div class="cd-info">
            <div class="row">
                <span>지식공유자</span>
                <b th:text="${course.instructorName != null ? course.instructorName : '-'}">Sonic AI</b>
            </div>

            <div class="row">
                <span>수강기간</span>
                <b th:text="${course.periodText != null ? course.periodText : '-'}">무제한</b>
            </div>
        </div>
    </aside>

</th:block>
