<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/adminLayout :: layout(
        ~{::title},
        ~{::content},
        ~{::css},
        ~{::script}
      )}">

<th:block th:fragment="css">
  <link rel="stylesheet" th:href="@{/css/admin/adminHome.css}">
</th:block>

<head>
  <title>관리자 대시보드 홈</title>
</head>
<body>
<section th:fragment="content">
  <div class="admin-dashboard">
    <div class="dashboard-top">
      <div class="stat-wrap">
        <h3>강의 관리</h3>
        <a href="/admin/course" class="adminMain-stat">
          <div class="icon-wrap"><img src="/images/admin/icon-admin-course-stat.png" class="stat-icon"> </div>
          <div class="stat-info">
            <h3 class="stat-number" th:text="|${dashboard.activeCourseCount}개|">0개</h3>
            <p class="stat-label">강의 공개중</p>
          </div>
        </a>
      </div>

      <div class="stat-wrap">
        <h3>리뷰 관리</h3>
        <a href="/admin/review" class="adminMain-stat">
          <div class="icon-wrap"><img src="/images/admin/icon-admin-review-stat.png" class="stat-icon"></div>
          <div class="stat-info">
            <h3 class="stat-number" th:text="|${dashboard.pendingReviewCount}개|">0개</h3>
            <p class="stat-label">리뷰 검사 대기</p>
          </div>
        </a>
      </div>

      <div class="stat-wrap">
        <h3>Q&A 관리</h3>
        <a href="/admin/qna" class="adminMain-stat">
          <div class="icon-wrap"><img src="/images/admin/icon-admin-qna-stat.png" class="stat-icon"></div>
          <div class="stat-info">
            <h3 class="stat-number" th:text="|${dashboard.pendingQnaCount}개|">0개</h3>
            <p class="stat-label">Q&A 답변 대기</p>
          </div>
        </a>
      </div>
    </div>

    <div class="dashboard-bottom">
      <div class="notice-wrap">
        <h3>최신 공지</h3>
        <a href="/admin/notice">
          <img src="/images/admin/icon-admin-plus-btn.png" class="plus-btn"></a>
        <div class="list-container">

          <a th:href="@{/admin/notice/{id}/edit(id=${notice.noticeId})}" class="list-item" th:each="notice : ${dashboard.latestNotices}" style="text-decoration: none; color: inherit; display: block;">
            <div class="item-header">
              <span class="item-title" th:text="|[${notice.category}] ${notice.title}|">[카테고리] 공지 제목</span>
            </div>
          </a>
          <div class="list-item" th:if="${#lists.isEmpty(dashboard.latestNotices)}">
            <span class="item-title" style="color:#999">등록된 공지가 없습니다.</span>
          </div>
        </div>
      </div>

      <div class="certificate-wrap">
        <h3>최근 수료증 발급 현황</h3>
        <div class="list-container">

          <div class="list-item" th:each="cert : ${dashboard.pendingCertificates}" style="display: flex; justify-content: space-between; align-items: center; gap: 10px;">
            <div style="flex: 1; min-width: 0; display: flex; align-items: center;">
              <span th:text="${cert.title}" 
                    style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-weight: 500; color: #333; flex: 1;">
                강의명
              </span>
              <span th:text="| - ${cert.name}|" 
                    style="flex-shrink: 0; white-space: nowrap; font-weight: 500; color: #333; margin-left: 5px;">
                 - 유저명
              </span>
            </div>
            <span class="item-date" th:text="${cert.issuedAt}" 
                  style="font-size: 0.9em; color: #666; flex-shrink: 0; margin-left: 10px;">2024-01-01</span>
          </div>
          <div class="list-item" th:if="${#lists.isEmpty(dashboard.pendingCertificates)}">
            <span class="item-title" style="color:#999">발급된 수료증이 없습니다.</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
</body>

</html>
