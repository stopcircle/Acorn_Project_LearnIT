@charset "UTF-8";

/* =========================================
   1. Global & Layout Reset
   ========================================= */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    height: 100vh;
    display: flex;
    flex-direction: column;
    overflow: hidden; /* 스크롤바 숨김 (App-like layout) */
    font-family: 'Noto Sans KR', sans-serif;
}

/* =========================================
   2. Top Header (Title & Navigation)
   ========================================= */
.top-header {
    height: 60px;
    background-color: #ffffff;
    border-bottom: 1px solid #ddd;
    display: flex;
    align-items: center;
    justify-content: space-between; /* 좌우 배분 */
    padding: 0 20px;
    z-index: 101; /* 사이드바보다 위에 위치 */
    flex-shrink: 0;
}

/* [Left] 강의 제목 영역 */
.header-left {
    flex: 1;
    min-width: 0; /* 텍스트 말줄임 처리를 위해 필수 */
    margin-right: 20px;
}

.course-title {
    font-size: 16px;
    font-weight: 600;
    color: #333;
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; /* 긴 제목은 ... 처리 */
}

/* [Right] 네비게이션 버튼 그룹 */
.header-right {
    display: flex;
    align-items: center;
    gap: 8px; /* 버튼 사이 간격 */
    flex-shrink: 0;
}

/* 공통 버튼 스타일 (수정됨: 글자 포함형) */
.header-nav-btn {
    width: auto; /* 글자 길이에 맞춰 늘어남 */
    height: 36px;
    padding: 0 12px; /* 좌우 여백 */
    border: 1px solid #e5e5e5;
    background-color: #ffffff;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px; /* 아이콘과 글자 사이 간격 */
    transition: all 0.2s ease;
}

/* 버튼 내부 텍스트 */
.header-nav-btn span {
    font-size: 13px;
    font-weight: 500;
    color: #555;
    line-height: 1;
    padding-bottom: 1px; /* 시각적 중앙 보정 */
}

.header-nav-btn:hover {
    background-color: #f8f9fa;
    border-color: #ccc;
}

.header-nav-btn:hover span {
    color: #333;
}

.header-nav-btn:active {
    transform: translateY(0);
}

/* 비활성화 버튼 (Disabled) */
.header-nav-btn.disabled {
    opacity: 0.5;
    cursor: default;
    background-color: #f9f9f9;
    border-color: #eee;
}

.header-nav-btn.disabled:hover {
    transform: none;
    background-color: #f9f9f9;
}

/* 아이콘 이미지 */
.header-nav-btn img {
    width: 12px;
    height: 12px;
    opacity: 0.6;
    object-fit: contain;
}

/* 다음 버튼 아이콘 회전 */
.rotate-180 {
    transform: rotate(180deg);
}

/* 구분선 */
.nav-divider {
    width: 1px;
    height: 16px;
    background-color: #eee;
    margin: 0 4px;
}

/* =========================================
   3. Main Container & Video Section
   ========================================= */
.main-container {
    display: flex;
    flex: 1; /* 남은 높이 모두 차지 */
    position: relative;
}

.video-section {
    flex: 1; /* 가변 너비 */
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 10px;
    background-color: #f5f5f5;
    transition: flex 0.3s ease-in-out;
}

/* 영상 래퍼 (16:9 비율 유지) */
.video-wrapper {
    width: 100%;
    height: auto;
    max-width: 1500px;
    aspect-ratio: 16 / 9;
    background-color: #000;
    border-radius: 8px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    overflow: hidden;
    margin: 0 auto;
}

@media (min-aspect-ratio: 16/9) {
    .video-wrapper {
        width: auto;      /* 가로는 비율에 맞춰 자동 조절 */
        height: 100%;     /* 높이를 화면에 딱 맞춤 */
        max-height: 100%; /* 부모(video-section) 높이를 넘지 않음 */
    }
}

.video-wrapper iframe {
    width: 100%;
    height: 100%;
    border: none;
    border-radius: 4px;
}

/* =========================================
   4. Side Panel (Expandable Content)
   ========================================= */
.side-panel-wrapper {
    width: 0; /* 기본 상태: 숨김 */
    overflow: hidden;
    background-color: #ffffff;
    border-left: 1px solid #ddd;
    display: flex;
    flex-direction: column;
    flex-shrink: 0;
    transition: width 0.3s ease-in-out;
}

/* 패널 열림 상태 */
.side-panel-wrapper.open {
    width: 320px;
}

/* 내부 콘텐츠 박스 */
.panel-content-box {
    width: 320px;
    height: 100%;
    display: flex;
    flex-direction: column;
}

.panel-header {
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 20px;
    border-bottom: 1px solid #eee;
    font-weight: bold;
    color: #333;
}

.close-btn {
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: #999;
}

.panel-body {
    flex: 1;
    overflow-y: auto;
    counter-reset: lecture-counter;
}

/* =========================================
   5. Right Sidebar (Menu Tabs)
   ========================================= */
.right-sidebar {
    width: 70px;
    background-color: #ffffff;
    border-left: 1px solid #ddd;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 20px;
    gap: 30px;
    z-index: 100;
}

.menu-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-decoration: none;
    color: #555;
    cursor: pointer;
    transition: opacity 0.2s;
}

.menu-item:hover {
    color: #000;
}

.icon-wrap {
    width: 36px;
    height: 36px;
    border-radius: 8px;
    margin-bottom: 6px;
    display: flex;
    justify-content: center;
    align-items: center;
}

.menu-icon {
    width: 20px;
    height: 20px;
    object-fit: contain;
}

.menu-label {
    font-size: 11px;
    font-weight: 600;
}

/* ============================== */
/* [추가] 커리큘럼 진도율 바 스타일 */
/* ============================== */

.progress-area {
    padding: 20px 20px 10px 20px; /* 상우하좌 여백 */
    background-color: #fff;
    border-bottom: 1px solid #f5f5f5; /* 리스트와 구분선 */
}

.progress-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
    font-size: 13px;
    font-weight: 600;
    color: #444;
}

.progress-info .percent {
    color: #00c471; /* 인프런/네이버 스타일 초록색 포인트 */
    font-weight: 700;
}

.progress-bg {
    width: 100%;
    height: 8px; /* 바 두께 */
    background-color: #eee;
    border-radius: 4px; /* 둥글게 */
    overflow: hidden; /* 넘치는 부분 자르기 */
}

.progress-fill {
    height: 100%;
    background-color: #00c471; /* 채워지는 색상 */
    border-radius: 4px;
    transition: width 0.5s ease-in-out; /* 부드럽게 차오르는 애니메이션 */
}

/* ============================== */
/* [추가] 계층형 커리큘럼 스타일 */
/* ============================== */

/* 섹션 헤더 */
.section-header {
    background-color: #f8f9fa;
    padding: 12px 20px;
    font-size: 14px;
    font-weight: 700;
    color: #333;
    border-bottom: 1px solid #eee;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background 0.2s;
}
.section-header:hover { background-color: #e9ecef; }

/* 1. 기본 상태 (펼쳐짐 = Open) */
.toggle-icon {
    width: 14px;
    height: 14px;
    object-fit: contain;
    opacity: 0.5;
    transition: transform 0.3s ease; /* 부드러운 회전 */

    /* 원본 이미지가 '▼ (아래)' 입니다.
       펼쳐져 있을 때는 '접기'를 의미하는 '▲ (위)'가 되어야 하므로
       180도 뒤집어서 시작합니다.
    */
    transform: rotate(180deg);
}

/* 2. 섹션 헤더에 마우스 올렸을 때 */
.section-header:hover .toggle-icon {
    opacity: 1; /* 진하게 */
}

/* 3. 접힌 상태 (Collapsed = Closed) */
/* -> 팀장님이 질문하신 코드 부분입니다 (유지!) */
.section-header.collapsed .toggle-icon {
    /* 접혀 있을 때는 '펼치기'를 의미하는 '▼ (아래)'가 되어야 하므로
       회전을 0도로 되돌립니다 (원본 이미지 모양).
    */
    transform: rotate(0deg);
}

/* 4. 접혔을 때 리스트 숨기기 (유지!) */
.section-header.collapsed + .chapter-list {
    display: none;
}

/* 챕터 리스트 */
.chapter-list { list-style: none; padding: 0; margin: 0; display: block; }
.chapter-list li a {
    display: flex; justify-content: space-between; align-items: center;
    padding: 12px 20px 12px 30px; /* 들여쓰기 */
    text-decoration: none; color: #555; font-size: 13px;
    border-bottom: 1px solid #f9f9f9;
}
.chapter-list li:hover a { background-color: #f8f9fa; color: #333; }

/* 현재 재생 중인 강의 강조 */
.chapter-list li.active a {
    background-color: #e6f7ff; color: #007bff; font-weight: 600;
    border-left: 3px solid #007bff; padding-left: 27px;
}

/* 2. 퀴즈가 아닌 리스트 아이템만 카운터 증가 */
.chapter-list li:not(.quiz-item) {
    counter-increment: lecture-counter;
}

/* 3. 증가된 번호를 화면에 표시 (예: "1강.") */
.chapter-idx::before {
    content: counter(lecture-counter) "강.";
    font-weight: bold;
    color: #00c471; /* 초록색 포인트 */
}
/* =========================================
   [추가/수정] 실습 에디터 헤더 스타일 (CSS 분리)
   ========================================= */

/* 1. 패널 헤더 기본 (PC - 좁은 사이드바용 컴팩트 스타일) */
.interpreter-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 10px;    /* 좁은 여백 */
    gap: 5px;           /* 요소 간 간격 최소화 */
    height: 50px;
    border-bottom: 1px solid #eee;
    background-color: #fff;
}

/* 제목 (절대 줄바꿈 금지 & 크기 고정) */
.interpreter-header h3 {
    margin: 0;
    font-size: 15px;       /* 살짝 작게 */
    font-weight: 700;
    white-space: nowrap;   /* 줄바꿈 방지 */
    flex-shrink: 0;        /* 공간 부족해도 찌그러지지 않음 (중요!) */
}

/* 오른쪽 컨트롤 그룹 (셀렉트박스 + 버튼들) */
.header-controls {
    display: flex;
    align-items: center;
    gap: 5px;
    margin-left: auto;     /* 오른쪽 끝으로 밀기 */
}

/* 언어 선택 박스 */
.lang-select {
    height: 28px;
    font-size: 12px;
    padding: 0 2px 0 6px;
    width: 105px;          /* PC에서는 너비 강제 고정 (넘치지 않게) */
}

/* 실행 버튼 */
.run-btn {
    background-color: #00c471;
    color: white;
    border: none;
    height: 28px;
    padding: 0 10px;
    font-size: 12px;
    display: flex;
    align-items: center;
    gap: 4px;
    white-space: nowrap;
}
.run-btn:hover {
    background-color: #00b368;
}
.run-btn span {
    color: white;
    font-weight: 600;
}

/* 전체 컨테이너: 세로 방향 Flex */
.interpreter-container {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* 1. 에디터 영역 (Flex 2) */
.editor-area {
    flex: 2;            /* 화면의 2/3 차지 */
    width: 100%;
    border-bottom: 1px solid #ddd;

    /* [핵심] 화면이 줄어들 때 얘도 같이 줄어들게 강제함 */
    min-height: 0;
    flex-shrink: 1;
}

/* 2. 콘솔 영역 (Flex 1) */
.console-area {
    flex: 1;            /* 화면의 1/3 차지 */
    width: 100%;
    background-color: #1e1e1e;
    color: #fff;
    padding: 10px;
    margin-bottom: 10px;
    overflow: auto;     /* 내용 많으면 스크롤 */
    border-radius: 5px;
    font-family: monospace;

    /* [핵심] 최소한 이만큼은 보여라 (사라짐 방지) */
    min-height: 100px;
    flex-shrink: 0;     /* 얘는 웬만하면 줄어들지 마라 */
}

/* 콘솔 내부 텍스트 스타일 */
.console-label {
    font-size: 12px;
    color: #aaa;
    margin-bottom: 5px;
    position: sticky;   /* 스크롤 내려도 제목은 위에 붙어있게 (선택사항) */
    top: 0;
    background-color: #1e1e1e;
}

#output-console {
    margin: 0;
    white-space: pre-wrap; /* 줄바꿈 유지 */
}

.monaco-editor .line-numbers {
    text-align: center !important; /* 강제 가운데 정렬 */
}

/* --- 퀴즈 컨테이너 --- */
.quiz-container { height: 100%; display: flex; flex-direction: column; background: #fff; }
.quiz-body { flex: 1; position: relative; overflow: hidden; }

#quiz-wrapper {
    width: 100%;
    height: 100%;
    background-color: #fff;
    position: absolute; /* 비디오 위에 겹치기 */
    top: 0;
    left: 0;
    z-index: 10; /* 비디오보다 위에 */
    display: none; /* 기본은 숨김 */
}

/* [1] 시작 화면: 정중앙 정렬 */
.centering-box {
    display: flex; align-items: center; justify-content: center; height: 100%;
}
.btn-start-circle {
    width: 120px; height: 120px; border-radius: 50%;
    background: #00c471; color: white; border: none;
    font-size: 18px; font-weight: bold; cursor: pointer;
    box-shadow: 0 4px 15px rgba(0,196,113,0.3);
    transition: transform 0.2s;
}
.btn-start-circle:hover { transform: scale(1.05); background: #00b368; }

/* [2] 문제 화면 레이아웃 */
.question-area {
    padding: 20px; border-bottom: 1px solid #f0f0f0;
}
.q-badge { font-size: 12px; color: #00c471; font-weight: 800; }
.q-text { font-size: 16px; margin-top: 5px; line-height: 1.4; color: #333; }

.options-area {
    padding: 20px; overflow-y: auto;
    height: calc(100% - 180px); /* 상단, 하단 제외한 높이 */
}
.option-item {
    width: 100%;
    padding: 15px;
    margin-bottom: 10px;
    background: #fff;
    border: 1px solid #ddd;
    border-radius: 8px;
    text-align: left;
    cursor: pointer;
    transition: all 0.2s;
}

.option-item:hover {
    background: #f9f9f9;
}

/* 선택되었을 때 스타일 (초록색 테두리 & 배경) */
.option-item.selected {
    border-color: #00c471;
    background-color: #e3faf0;
    color: #008a4f;
    font-weight: bold;
}

/* 하단 고정 버튼 영역 */
.bottom-action-area {
    position: absolute; bottom: 0; left: 0; width: 100%;
    padding: 20px; background: #fff; border-top: 1px solid #eee;
}
.btn-submit-full {
    width: 100%; padding: 14px; background: #333; color: white;
    border: none; border-radius: 8px; font-size: 15px; font-weight: 700; cursor: pointer;
}
.btn-submit-full:disabled { background: #ccc; cursor: not-allowed; }

/* [3] 결과 화면 */
.score-circle {
    display: inline-flex; flex-direction: column; justify-content: center;
    width: 100px; height: 100px; border: 4px solid #00c471; border-radius: 50%;
    color: #00c471; font-weight: 800; font-size: 28px;
}
.score-circle .unit { font-size: 14px; font-weight: normal; }

.btn-next-lecture {
    padding: 12px 24px; background: #007bff; color: white;
    border: none; border-radius: 25px; font-size: 15px; font-weight: 600; cursor: pointer;
}
.btn-next-lecture:hover { background: #0056b3; }

/* =========================================
   6. Responsive (Mobile <= 768px)
   ========================================= */
@media (max-width: 768px) {

    .main-container {
        flex-direction: column;
        padding-bottom: 70px; /* 하단 네비바 높이 확보 */
    }

    .header-right {
        gap: 2px; /* 버튼 사이 간격 */
    }

    /* 패널: 하단에서 위로 슬라이드 & 영상 밀어내기 */
    .side-panel-wrapper {
        position: relative;
        width: 100% !important;
        height: 0;
        border-left: none;
        border-top: 1px solid #ddd;
        border-radius: 20px 20px 0 0;
        transition: height 0.3s ease-in-out;
        order: 2; /* 영상 아래 배치 */
        z-index: 200;
    }

    .side-panel-wrapper.open {
        height: 45vh; /* 화면 높이의 45% 차지 */
    }

    .panel-content-box {
        width: 100%;
    }

    /* 사이드바: 하단 고정 네비게이션 */
    .right-sidebar {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 70px;
        flex-direction: row;
        justify-content: space-between;
        padding: 0 30px;
        border-left: none;
        border-top: 1px solid #ddd;
        z-index: 300;
    }

    .right-sidebar .menu-item {
        flex: 1;
        justify-content: center;
    }

    .icon-wrap {
        background-color: transparent; /* 모바일은 배경 제거 */
    }

    /* 모바일에서는 패널이 넓으므로 여백을 넉넉하게 복구 */
    .interpreter-header {
        padding: 0 20px; /* 원래 여백 */
        gap: 10px;
    }

    .interpreter-header h3 {
        font-size: 16px; /* 원래 폰트 크기 */
    }

    .lang-select {
        width: auto;     /* 너비 제한 해제 (글자 길이에 맞춤) */
        height: 32px;    /* 터치하기 편하게 조금 키움 */
        font-size: 13px;
    }

    .run-btn {
        height: 32px;    /* 버튼도 키움 */
        padding: 0 14px;
    }

    /* 모바일에서는 콘솔창 비율을 조금 줄여서 에디터를 더 넓게 */
    .editor-area {
        flex: 3;
    }
    .console-area {
        flex: 1;
        min-height: 120px; /* 모바일은 화면 작으니까 최소 높이 조금 줄임 */
    }
}