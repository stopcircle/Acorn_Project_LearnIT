@charset "UTF-8";

/* =========================================
   1. Global & Layout Reset
   ========================================= */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    height: 100vh;
    display: flex;
    flex-direction: column;
    overflow: hidden; /* ì „ì²´ ë ˆì´ì•„ì›ƒ ìŠ¤í¬ë¡¤ ë°©ì§€ */
    font-family: 'Noto Sans KR', sans-serif;
}

/* =========================================
   2. Top Header
   ========================================= */
.top-header {
    height: 60px;
    background-color: #ffffff;
    border-bottom: 1px solid #ddd;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 20px;
    z-index: 101;
    flex-shrink: 0;
}

.header-left {
    flex: 1;
    min-width: 0;
    margin-right: 20px;
}

.course-title {
    font-size: 16px;
    font-weight: 600;
    color: #333;
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.header-right {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-shrink: 0;
}

.header-nav-btn {
    width: auto;
    height: 36px;
    padding: 0 12px;
    border: 1px solid #e5e5e5;
    background-color: #ffffff;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    transition: all 0.2s ease;
}

.header-nav-btn span {
    font-size: 13px;
    font-weight: 500;
    color: #555;
    line-height: 1;
    padding-bottom: 1px;
}

.header-nav-btn:hover { background-color: #f8f9fa; border-color: #ccc; }
.header-nav-btn:hover span { color: #333; }
.header-nav-btn:active { transform: translateY(0); }

.header-nav-btn.disabled {
    opacity: 0.5; cursor: default; background-color: #f9f9f9; border-color: #eee;
}
.header-nav-btn.disabled:hover { transform: none; background-color: #f9f9f9; }

.header-nav-btn img { width: 12px; height: 12px; opacity: 0.6; object-fit: contain; }
.rotate-180 { transform: rotate(180deg); }
.nav-divider { width: 1px; height: 16px; background-color: #eee; margin: 0 4px; }

/* =========================================
   3. Main Container & Video Section
   ========================================= */
.main-container {
    display: flex;
    flex: 1;
    position: relative;
    height: 100%;
    overflow: hidden;
}

.video-section {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center; /* í€´ì¦ˆê°€ ê¸¸ì–´ì§€ë©´ ìœ„ì•„ë˜ ì¤‘ì•™ ìœ ì§€ */
    align-items: center;
    padding: 20px; /* ì—¬ë°±ì„ ì¡°ê¸ˆ ë” ì£¼ì–´ ì—¬ìœ  í™•ë³´ */
    background-color: #f5f5f5;
    overflow-y: auto; /* í€´ì¦ˆê°€ ë¸Œë¼ìš°ì € ë†’ì´ë³´ë‹¤ ê¸¸ì–´ì§ˆ ê²½ìš° ëŒ€ë¹„ */
}

/* ì˜ìƒ ë˜í¼ */
.video-wrapper {
    width: 100%;
    max-width: 1200px; /* ë„ˆë¬´ í¼ì§€ì§€ ì•Šê²Œ ì ì • ê°€ë¡œí­ ì œí•œ */
    background-color: #fff;
    border-radius: 8px;
    position: relative;
    transition: all 0.3s ease; /* ì˜ì—­ í™•ì¥ ì‹œ ë¶€ëª¨ ì• ë‹ˆë©”ì´ì…˜ */
}

.video-wrapper:not(.quiz-active) {
    aspect-ratio: 16 / 9;
}

.video-wrapper.quiz-active {
    aspect-ratio: auto; /* ë¹„ìœ¨ í•´ì œ */
    min-height: 700px;  /* PCì—ì„œ í€´ì¦ˆê°€ ë³´ì—¬ì¤„ ìµœì†Œ ì„¸ë¡œ ë†’ì´ */
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}

.video-wrapper iframe {
    width: 100%;
    height: 100%;
    border: none;
}

/* =========================================
   4. Side Panel
   ========================================= */
.side-panel-wrapper {
    width: 0;
    height: 100%;
    overflow: hidden;
    background-color: #ffffff;
    border-left: 1px solid #ddd;
    display: flex;
    flex-direction: column;
    flex-shrink: 0;
    transition: width 0.3s ease-in-out;
}
.side-panel-wrapper.open { width: 320px; }

.panel-content-box {
    width: 320px; height: 100%; display: flex; flex-direction: column;
}
.panel-header {
    height: 50px; display: flex; align-items: center; justify-content: space-between;
    padding: 0 20px; border-bottom: 1px solid #eee; font-weight: bold; color: #333; flex-shrink: 0;
}
.close-btn {
    background: none; border: none; font-size: 24px; cursor: pointer; color: #999;
}
.panel-inner {
    display: flex; flex-direction: column; height: 100%; width: 100%; overflow: hidden;
}
.panel-body {
    flex: 1; overflow-y: auto; min-height: 0;
    padding-bottom: 100px; counter-reset: lecture-counter;
}

/* =========================================
   5. Right Sidebar
   ========================================= */
.right-sidebar {
    width: 70px; background-color: #ffffff; border-left: 1px solid #ddd;
    display: flex; flex-direction: column; align-items: center;
    padding-top: 20px; gap: 30px; z-index: 100;
}
.menu-item {
    display: flex; flex-direction: column; align-items: center;
    text-decoration: none; color: #555; cursor: pointer; transition: opacity 0.2s;
}
.menu-item:hover { color: #000; }
.icon-wrap {
    width: 36px; height: 36px; border-radius: 8px; margin-bottom: 6px;
    display: flex; justify-content: center; align-items: center;
}
.menu-icon { width: 20px; height: 20px; object-fit: contain; }
.menu-label { font-size: 11px; font-weight: 600; }

/* ============================== */
/* Curriculum Style */
/* ============================== */
.progress-area {
    padding: 20px 20px 10px 20px; background-color: #fff;
    border-bottom: 1px solid #f5f5f5; flex-shrink: 0;
}
.progress-info {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 8px; font-size: 13px; font-weight: 600; color: #444;
}
.progress-info .percent { color: #00c471; font-weight: 700; }
.progress-bg {
    width: 100%; height: 8px; background-color: #eee;
    border-radius: 4px; overflow: hidden;
}
.progress-fill {
    height: 100%; background-color: #00c471;
    border-radius: 4px; transition: width 0.5s ease-in-out;
}

.section-header {
    background-color: #f8f9fa; padding: 12px 20px;
    font-size: 14px; font-weight: 700; color: #333;
    border-bottom: 1px solid #eee; cursor: pointer;
    display: flex; justify-content: space-between; align-items: center;
    transition: background 0.2s;
}
.section-header:hover { background-color: #e9ecef; }
.toggle-icon {
    width: 14px; height: 14px; object-fit: contain; opacity: 0.5;
    transition: transform 0.3s ease; transform: rotate(180deg);
}
.section-header:hover .toggle-icon { opacity: 1; }
.section-header.collapsed .toggle-icon { transform: rotate(0deg); }
.section-header.collapsed + .chapter-list { display: none; }

.chapter-list { list-style: none; padding: 0; margin: 0; display: block; }
.chapter-list li a {
    display: flex; justify-content: space-between; align-items: center;
    padding: 12px 20px 12px 30px; text-decoration: none; color: #555;
    font-size: 13px; border-bottom: 1px solid #f9f9f9;
}
.chapter-list li:hover a { background-color: #f8f9fa; color: #333; }
.chapter-list li.active a {
    background-color: #e6f7ff; color: #007bff; font-weight: 600;
    border-left: 3px solid #007bff; padding-left: 27px;
}
.chapter-list li:not(.quiz-item) { counter-increment: lecture-counter; }
.chapter-idx::before {
    content: counter(lecture-counter) ".";
    font-weight: bold; color: #00c471; margin-right: 4px;
}

/* =========================================
   Interpreter Styles
   ========================================= */
.interpreter-header {
    display: flex; align-items: center; justify-content: space-between;
    padding: 0 10px; gap: 5px; height: 50px;
    border-bottom: 1px solid #eee; background-color: #fff; flex-shrink: 0;
}
.interpreter-header h3 { margin: 0; font-size: 15px; font-weight: 700; white-space: nowrap; flex-shrink: 0; }
.header-controls { display: flex; align-items: center; gap: 5px; margin-left: auto; }
.lang-select { height: 28px; font-size: 12px; padding: 0 2px 0 6px; width: 105px; }
.run-btn {
    background-color: #00c471; color: white; border: none; height: 28px;
    padding: 0 10px; font-size: 12px; display: flex; align-items: center; gap: 4px; white-space: nowrap;
}
.run-btn:hover { background-color: #00b368; }
.run-btn span { color: white; font-weight: 600; }

.interpreter-container {
    width: 100%; height: 100%; display: flex; flex-direction: column; overflow: hidden;
}
.editor-area {
    flex: 2; width: 100%; border-bottom: 1px solid #ddd;
    min-height: 200px; flex-shrink: 1;
}
.console-area {
    flex: 1; width: 100%; background-color: #1e1e1e; color: #fff;
    padding: 10px; margin-bottom: 10px; overflow: auto;
    border-radius: 5px; font-family: monospace;
    min-height: 100px; flex-shrink: 0;
}
.console-label {
    font-size: 12px; color: #aaa; margin-bottom: 5px;
    position: sticky; top: 0; background-color: #1e1e1e;
}
#output-console { margin: 0; white-space: pre-wrap; }
.monaco-editor .line-numbers { text-align: center !important; }

/* =========================================
   [6] QUIZ STYLES (ë­‰ê°œì§ ë°©ì§€ ì™„ë²½ ëŒ€ì‘)
   ========================================= */

/* 1. í€´ì¦ˆ ë˜í¼: ì—¬ê¸°ì„œ ìŠ¤í¬ë¡¤ì„ ê´€ë¦¬í•©ë‹ˆë‹¤ */
#quiz-wrapper {
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 100%; /* í™•ì¥ëœ .video-wrapper ë†’ì´ë¥¼ ê·¸ëŒ€ë¡œ ë”°ë¼ê° */
    background-color: #fff;
    z-index: 20;
    display: none;
    overflow: hidden;
    border-radius: 8px;
}

.quiz-container {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    background: #fff;
}

.quiz-body {
    flex: 1;
    display: flex;
    flex-direction: column;
    min-height: 0; /* ìì‹ ìš”ì†Œê°€ ë¶€ëª¨ë¥¼ ëš«ì§€ ëª»í•˜ê²Œ í•¨ */
}

/* 2. ë‹¨ê³„ë³„ ë°•ìŠ¤: ì—¬ë°±ì„ vh(í™”ë©´ë†’ì´ë¹„ìœ¨)ë¡œ ì„¤ì • */
.quiz-step {
    flex: 1;
    width: 100%;
    padding: 50px 5%; /* PCì—ì„œ ìœ„ì•„ë˜ ì—¬ë°±ì„ ë” ë„“ê²Œ */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 4vh;
}

/* [1] ì‹œì‘ & ê²°ê³¼ í™”ë©´ */
.quiz-title-text, .result-msg-text {
    font-size: clamp(20px, 4vh, 28px);
    font-weight: bold;
    text-align: center;
    margin: 0;
}

.quiz-desc-text {
    font-size: clamp(14px, 2vh, 18px);
    color: #666;
    text-align: center;
}

/* ğŸ”¥ ì§ì‚¬ê°í˜• ì‹œì‘ ë²„íŠ¼: ëª¨ë°”ì¼ì—ì„œ ì•ˆ ì˜ë¦¬ê²Œ í•¨ */
.btn-start-circle {
    width: 100%;
    max-width: 240px;
    height: 54px; /* ë†’ì´ë¥¼ ê³ ì •í•˜ì—¬ ì§ì‚¬ê°í˜• ìœ ì§€ */
    background: #00c471;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    flex-shrink: 0; /* ì°Œê·¸ëŸ¬ì§ ë°©ì§€ */
    display: flex;
    align-items: center;
    justify-content: center;
}

/* ì ìˆ˜ ë°•ìŠ¤ */
.score-circle {
    width: 160px;
    height: 80px;
    border: 3px solid #00c471;
    border-radius: 12px;
    background: #f9fffb;
    color: #00c471;
    font-size: 32px;
    font-weight: 800;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    flex-shrink: 0;
}
.score-circle .unit { font-size: 14px; font-weight: normal; color: #666; }

/* [2] ë¬¸ì œ í™”ë©´ (ëª¨ë°”ì¼ ì§¤ë¦¼ ë°©ì§€ í•µì‹¬) */
.question-step {
    justify-content: flex-start;
    padding: 0;
}

.question-area {
    width: 100%;
    padding: 3vh 20px;
    border-bottom: 1px solid #f0f0f0;
    flex-shrink: 0;
}

.q-text {
    font-size: 24px; /* ì¢€ ë” í¬ê²Œ */
    line-height: 1.5;
}

.q-badge {
    font-weight: bold;
    color: #00c471;
}

/* ë³´ê¸° ì˜ì—­: ì—¬ê¸°ê°€ ê°€ì¥ ë§ì´ ì°¨ì§€í•˜ë„ë¡ í•¨ */
.options-area {
    width: 100%;
    flex: 1;
    padding: 2vh 5vw;
    display: flex;
    flex-direction: column;
    justify-content: center;
    overflow-y: auto;       /* ê¸°ëŠ¥ì€ ìœ ì§€ */

    -ms-overflow-style: none;  /* IE, Edge */
    scrollbar-width: none;     /* Firefox */
}

.options-area::-webkit-scrollbar {
    display: none;
}

.option-item {
    width: 100%;
    padding: 12px 15px;
    margin-bottom: 10px;
    background: #fff;
    border: 1px solid #ddd;
    border-radius: 8px;
    font-size: 14px;
}
.option-item.selected { border-color: #00c471; background-color: #e3faf0; font-weight: bold; }

/* ì •ë‹µ/ì˜¤ë‹µ ì‹œê° íš¨ê³¼ */

/* 1. ë‚´ê°€ ì„ íƒí•œ ì˜¤ë‹µ (ë¹¨ê°„ í…Œë‘ë¦¬ + ë°°ê²½) */
.option-item.correct {
    border: 2px solid #00c471 !important;
    background-color: #e3faf0 !important;
    color: #008a4f !important;
}
.option-item.wrong {
    border: 2px solid #ff6b6b !important;
    background-color: #fff5f5 !important;
    color: #e03131 !important;
}

/* ì±„ì  ì™„ë£Œ í›„ ë‹¤ë¥¸ ì„ íƒì§€ë¥¼ í´ë¦­í•˜ì§€ ëª»í•˜ë„ë¡ ë°©ì§€ */
.options-area.graded {
    pointer-events: none; /* í´ë¦­ ì°¨ë‹¨ */
}

/* í•˜ë‹¨ ë²„íŠ¼ ì˜ì—­ */
.bottom-action-area {
    width: 100%;
    padding: 15px 20px;
    border-top: 1px solid #eee;
    flex-shrink: 0;

    /* ğŸ”¥ [ì¶”ê°€] Flexboxë¥¼ í™œìš©í•œ ì¤‘ì•™ ì •ë ¬ */
    display: flex;
    justify-content: center; /* ê°€ë¡œ ì¤‘ì•™ ì •ë ¬ */
    align-items: center;     /* ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
    background: #fff;        /* ë°°ê²½ìƒ‰ ëª…ì‹œ */
}

.btn-submit-full {
    width: 100%;
    max-width: 700px; /* ì´ ë„ˆë¹„ ì•ˆì—ì„œ ê°€ìš´ë° ì •ë ¬ë¨ */
    padding: 14px;
    background: #333;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 700;
    cursor: pointer; /* ë§ˆìš°ìŠ¤ ì»¤ì„œ ì¶”ê°€ */
    transition: background 0.2s;
}

.btn-submit-full:hover:not(:disabled) {
    background: #444; /* í˜¸ë²„ ì‹œ ì•½ê°„ ë°ê²Œ */
}

.btn-next-lecture {
    padding: 10px 30px;
    background: #007bff;
    color: white;
    border: none;
    border-radius: 20px;
    margin-top: 10px;
}
.btn-next-lecture:hover { background: #0056b3; }

/* =========================================
   7. Responsive (Mobile <= 768px)
   ========================================= */
@media (max-width: 768px) {
    .main-container { flex-direction: column; padding-bottom: 70px; }
    .header-right { gap: 2px; }

    .side-panel-wrapper {
        position: relative; width: 100% !important; height: 0;
        border-left: none; border-top: 1px solid #ddd;
        border-radius: 20px 20px 0 0; transition: height 0.3s ease-in-out;
        order: 2; z-index: 200;
    }
    .side-panel-wrapper.open { height: 45vh; }
    .panel-content-box { width: 100%; }

    .right-sidebar {
        position: fixed; bottom: 0; left: 0; width: 100%; height: 70px;
        flex-direction: row; justify-content: space-between;
        padding: 0 30px; border-left: none; border-top: 1px solid #ddd; z-index: 300;
    }
    .right-sidebar .menu-item { flex: 1; justify-content: center; }
    .icon-wrap { background-color: transparent; }

    .interpreter-header { padding: 0 20px; gap: 10px; }
    .interpreter-header h3 { font-size: 16px; }
    .lang-select { width: auto; height: 32px; font-size: 13px; }
    .run-btn { height: 32px; padding: 0 14px; }
    .editor-area { flex: 3; }
    .console-area { flex: 1; min-height: 120px; }

    .video-section {
        padding: 10px;
        justify-content: flex-start; /* ëª¨ë°”ì¼ì€ ìœ„ì—ì„œë¶€í„° ë°°ì¹˜ */
    }

    .video-wrapper.quiz-active {
        min-height: 370px; /* ëª¨ë°”ì¼ í° ë†’ì´ì— ë§ì¶˜ ìµœì†Œ ì„¸ë¡œí­ */
    }

    /* ğŸ”¥ [ëª¨ë°”ì¼ í€´ì¦ˆ ìˆ˜ì •] ëª¨ë°”ì¼ ì „ìš© ìµœì†Œ í¬ê¸° ì„¤ì • */
    .quiz-container {
        min-width: 0 !important;
        min-height: 0 !important;
    }

    /* ëª¨ë°”ì¼ì—ì„œëŠ” ë²„íŠ¼ í¬ê¸°ë¥¼ ì‚´ì§ ì¤„ì„ (í•˜ì§€ë§Œ ê³ ì •) */
    .btn-start-circle {
        width: 90%;         /* ì•„ì£¼ ì‘ì€ í°ì—ì„œëŠ” ë” ë„“ê²Œ */
        height: 50px;       /* ë†’ì´ ì‚´ì§ ì¡°ì ˆ */
        font-size: 16px;
    }
    .score-circle {
        width: 150px;
        height: 80px;
        font-size: 28px;
    }

    /* ì—¬ë°± ì¡°ì • */
    .question-area, .options-area, .bottom-action-area {
        padding: 20px; /* PCë³´ë‹¤ ì¢ì€ ì—¬ë°± */
    }
    .q-text { font-size: 18px; }
}